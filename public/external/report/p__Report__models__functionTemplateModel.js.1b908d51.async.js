(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"C+r/":function(e,t,a){"use strict";a.r(t);var r=a("mK77"),n=a.n(r),s=a("Ico4"),c=a.n(s),u=a("smcW"),p=a("WlY1");t["default"]={namespace:"functionTemplateModel",state:{listData:[],operateSets:[],querySets:[],selectedRowKeys:[],selectedRows:[],showModal:!1,editType:"create",formData:{},searchText:[""]},subscriptions:{setup:function(e){var t=e.dispatch,a=e.history;a.listen(function(e){var a=e.pathname;"/report/functiontemplate"===a&&(t({type:"stateChange",payload:{searchText:[""]}}),t({type:"queryDataset"}),t({type:"queryList"}))})}},effects:{queryDataset:c.a.mark(function e(t,a){var r,n,s,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,a.select,e.next=4,r(p["a"].queryDatasetUser,{categoryName:"operate"});case 4:return s=e.sent,e.next=7,r(p["a"].queryDatasetUser,{categoryName:"query"});case 7:return u=e.sent,e.next=10,n({type:"stateChange",payload:{querySets:u,operateSets:s}});case 10:case"end":return e.stop()}},e)}),queryList:c.a.mark(function e(t,a){var r,n,s;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,a.select,e.next=4,r(u["a"].queryOperation);case 4:return s=e.sent,e.next=7,n({type:"stateChange",payload:{listData:s}});case 7:case"end":return e.stop()}},e)}),create:c.a.mark(function e(t,a){var r,n,s;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,a.put,a.select,s=r.param,e.next=5,n(u["a"].createOperation,[s]);case 5:case"end":return e.stop()}},e)}),update:c.a.mark(function e(t,a){var r,n,s,p,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,a.put,s=a.select,e.next=4,s(function(e){return e.functionTemplateModel});case 4:return p=e.sent,o=r.param,o.uuId=p.formData.uuId,e.next=9,n(u["a"].updateOperation,[o]);case 9:case"end":return e.stop()}},e)}),delete:c.a.mark(function e(t,a){var r,n,s,p;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,a.select,p=r.map(function(e){return{uuId:"".concat(e)}}),e.next=5,n(u["a"].deleteOperation,p);case 5:return e.next=7,s({type:"stateChange",payload:{selectedRows:[],selectedRowKeys:[]}});case 7:return e.next=9,s({type:"queryList"});case 9:case"end":return e.stop()}},e)})},reducers:{stateChange:function(e,t){var a=t.payload;return n()({},e,a)}}}}}]);